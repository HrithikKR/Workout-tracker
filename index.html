<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0f172a">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.webmanifest">
    <title>Workout Tracker Pro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            background: #0f172a; 
            color: #f1f5f9; 
            min-height: 100vh; 
            padding-bottom: 80px; 
        }
        .header { 
            background: #1e293b; 
            padding: 1rem; 
            position: sticky; 
            top: 0; 
            z-index: 100; 
            border-bottom: 2px solid #10b981; 
        }
        .header h1 { font-size: 1.5rem; }
        .header-subtitle { color: #94a3b8; font-size: 0.85rem; margin-top: 0.25rem; }
        .tabs { 
            display: flex; 
            gap: 0.5rem; 
            padding: 1rem; 
            background: #1e293b; 
            overflow-x: auto; 
            position: sticky; 
            top: 65px; 
            z-index: 99; 
        }
        .tab { 
            padding: 0.75rem 1.5rem; 
            background: #334155; 
            border: none; 
            color: #94a3b8; 
            border-radius: 8px; 
            cursor: pointer; 
            white-space: nowrap; 
        }
        .tab.active { background: #10b981; color: white; font-weight: 600; }
        .container { padding: 1rem; max-width: 800px; margin: 0 auto; }
        .routine-card { 
            background: #1e293b; 
            border-radius: 12px; 
            padding: 1rem; 
            margin-bottom: 1rem; 
            border: 1px solid #334155; 
        }
        .routine-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            cursor: pointer; 
            padding: 0.5rem;
        }
        .routine-title { font-size: 1.2rem; font-weight: 600; }
        .routine-meta { color: #94a3b8; font-size: 0.85rem; margin-top: 0.25rem; }
        .exercise-list { margin-top: 1rem; display: none; }
        .exercise-list.show { display: block; }
        .exercise-item { 
            background: #334155; 
            padding: 1rem; 
            border-radius: 8px; 
            margin-bottom: 0.75rem; 
        }
        .exercise-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 0.75rem; 
        }
        .exercise-name { font-weight: 600; font-size: 1.05rem; }
        .video-link { 
            background: #10b981; 
            color: white; 
            border: none; 
            padding: 0.5rem 1rem; 
            border-radius: 6px; 
            cursor: pointer; 
            text-decoration: none; 
            font-size: 0.85rem; 
        }
        .exercise-details { color: #94a3b8; font-size: 0.9rem; margin-bottom: 0.75rem; }
        .set-row { 
            display: grid; 
            grid-template-columns: 40px 1fr 1fr 60px; 
            gap: 0.5rem; 
            align-items: center; 
            margin-bottom: 0.5rem;
        }
        .set-number { font-weight: 600; color: #94a3b8; }
        .input-group { display: flex; flex-direction: column; gap: 0.25rem; }
        .input-label { font-size: 0.75rem; color: #94a3b8; }
        .set-input { 
            background: #0f172a; 
            border: 1px solid #334155; 
            color: #f1f5f9; 
            padding: 0.5rem; 
            border-radius: 6px; 
            font-size: 1rem; 
            width: 100%; 
        }
        .check-btn { 
            background: #0f172a; 
            border: 2px solid #334155; 
            color: #94a3b8; 
            width: 40px; 
            height: 40px; 
            border-radius: 6px; 
            cursor: pointer; 
            font-size: 1.2rem;
        }
        .check-btn.done { background: #10b981; border-color: #10b981; color: white; }
        .add-set-btn { 
            background: #0f172a; 
            border: 1px dashed #334155; 
            color: #94a3b8; 
            padding: 0.75rem; 
            border-radius: 6px; 
            cursor: pointer; 
            margin-top: 0.5rem; 
            width: 100%;
        }
        .start-btn { 
            background: #10b981; 
            color: white; 
            border: none; 
            padding: 1rem 2rem; 
            border-radius: 12px; 
            font-size: 1.1rem; 
            font-weight: 600; 
            cursor: pointer; 
            width: 100%; 
            margin-bottom: 1rem; 
        }
        .finish-btn { 
            background: #059669; 
            color: white; 
            border: none; 
            padding: 1rem 2rem; 
            border-radius: 12px; 
            font-size: 1.1rem; 
            font-weight: 600; 
            cursor: pointer; 
            width: 100%; 
            margin-top: 1rem; 
        }
        .timer { 
            background: #1e293b; 
            padding: 1rem; 
            border-radius: 12px; 
            text-align: center; 
            margin-bottom: 1rem; 
            border: 2px solid #10b981; 
        }
        .timer-display { font-size: 2rem; font-weight: 700; color: #10b981; }
        .timer-label { color: #94a3b8; font-size: 0.9rem; margin-top: 0.25rem; }
        .stats-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 1rem; 
            margin-bottom: 1rem; 
        }
        .stat-card { 
            background: #1e293b; 
            padding: 1.5rem; 
            border-radius: 12px; 
            border: 1px solid #334155; 
        }
        .stat-value { font-size: 2rem; font-weight: 700; color: #10b981; }
        .stat-label { color: #94a3b8; font-size: 0.9rem; margin-top: 0.25rem; }
        .history-item { 
            background: #1e293b; 
            padding: 1rem; 
            border-radius: 12px; 
            margin-bottom: 0.75rem; 
            border: 1px solid #334155; 
        }
        .history-date { font-weight: 600; }
        .history-routine { color: #10b981; font-size: 0.95rem; margin: 0.5rem 0; }
        .history-stats { color: #94a3b8; font-size: 0.85rem; }
        .empty { text-align: center; padding: 3rem 1rem; color: #94a3b8; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üí™Workout Tracker Pro</h1>
        <div class="header-subtitle">Track Every Rep, Build Every Day</div>
    </div>

    <div class="tabs">
        <button class="tab active" onclick="showTab('workout')">Workout</button>
        <button class="tab" onclick="showTab('history')">History</button>
        <button class="tab" onclick="showTab('stats')">Stats</button>
    </div>

    <div class="container">
        <div id="workoutTab">
            <div id="timerSection" class="hidden"></div>
            <div id="routinesSection"></div>
        </div>
        <div id="historyTab" class="hidden"></div>
        <div id="statsTab" class="hidden"></div>
    </div>

    <script>
        const exercises = {
            'Barbell Bench Press': {v: 'https://youtu.be/rT7DgCr-3pg', s: '4√É‚Äî4-6'},
            'Overhead Barbell Press': {v: 'https://youtu.be/2yjwXTZQDDI', s: '3√É‚Äî4-6'},
            'Incline Dumbbell Press': {v: 'https://youtu.be/8iPEnn-ltC8', s: '3√É‚Äî6-8'},
            'Weighted Dips': {v: 'https://youtu.be/2z8JmcrW-As', s: '3√É‚Äî6-8'},
            'Lateral Raises': {v: 'https://youtu.be/3VcKaXpzqRo', s: '3√É‚Äî10-12'},
            'Triceps Rope Pushdown': {v: 'https://youtu.be/2-LAMcpzODU', s: '3√É‚Äî10-12'},
            'Push-ups': {v: 'https://youtu.be/IODxDxX7oi4', s: '2√É‚ÄîAMRAP'},
            'Deadlift': {v: 'https://youtu.be/op9kVnSso6Q', s: '3-4√É‚Äî3-5'},
            'Weighted Pull-ups': {v: 'https://youtu.be/tB3X4TjTIes', s: '4√É‚Äî4-6'},
            'Barbell Row': {v: 'https://youtu.be/FWJR5Ve8bnQ', s: '3√É‚Äî4-6'},
            'Chest-Supported Row': {v: 'https://youtu.be/zE52eD7TD5I', s: '3√É‚Äî6-8'},
            'Face Pulls': {v: 'https://youtu.be/rep-qVOkqgk', s: '3√É‚Äî12-15'},
            'Barbell Bicep Curls': {v: 'https://youtu.be/ykJmrZ5v0Oo', s: '3√É‚Äî8-10'},
            'Hammer Curls': {v: 'https://youtu.be/zC3nLlEvin4', s: '2√É‚Äî10-12'},
            'Back Squat': {v: 'https://youtu.be/ultWZbUMPL8', s: '4√É‚Äî4-6'},
            'Romanian Deadlift': {v: 'https://youtu.be/2SHsk9AzdjA', s: '3√É‚Äî6-8'},
            'Leg Press': {v: 'https://youtu.be/IZxyjW7MPJQ', s: '3√É‚Äî8-10'},
            'Walking Lunges': {v: 'https://youtu.be/L8fvypPrzzs', s: '3√É‚Äî10/leg'},
            'Calf Raises': {v: 'https://youtu.be/gwLzBJYoWlI', s: '4√É‚Äî10-12'},
            'Hanging Leg Raises': {v: 'https://youtu.be/Pr1ieGZ5atk', s: '3√É‚Äî10-15'},
            'Incline Barbell Press': {v: 'https://youtu.be/SrqOu55lrYU', s: '3-4√É‚Äî8-10'},
            'Flat Dumbbell Press': {v: 'https://youtu.be/622ku8i0M14', s: '3√É‚Äî8-12'},
            'Machine Chest Press': {v: 'https://youtu.be/xUm0BiZCWlQ', s: '3√É‚Äî10-12'},
            'Dumbbell Lateral Raises': {v: 'https://youtu.be/3VcKaXpzqRo', s: '4√É‚Äî12-15'},
            'Cable Front Raises': {v: 'https://youtu.be/3JsSi1eZjNA', s: '2-3√É‚Äî12-15'},
            'Overhead Triceps Extension': {v: 'https://youtu.be/YbX7Wd8jQ-Q', s: '3√É‚Äî10-12'},
            'Triceps Pushdowns': {v: 'https://youtu.be/2-LAMcpzODU', s: '2-3√É‚Äî12-15'},
            'Lat Pulldown': {v: 'https://youtu.be/CAwf7n6Luuc', s: '3-4√É‚Äî8-10'},
            'Single-Arm Dumbbell Row': {v: 'https://youtu.be/roCP6wCXPqo', s: '3√É‚Äî8-12'},
            'Seated Cable Row': {v: 'https://youtu.be/UCXxvVItLoM', s: '3√É‚Äî10-12'},
            'Straight-Arm Pulldowns': {v: 'https://youtu.be/njrd2UqKtfk', s: '3√É‚Äî12-15'},
            'Rear Delt Fly': {v: 'https://youtu.be/T_Oslv8s6KQ', s: '3-4√É‚Äî12-15'},
            'EZ-Bar Curl': {v: 'https://youtu.be/kwG2ipFRgfo', s: '3√É‚Äî8-12'},
            'Cable Curls': {v: 'https://youtu.be/6jB1nLA-XdA', s: '2-3√É‚Äî12-15'},
            'Front Squat': {v: 'https://youtu.be/uYumuL_G_V0', s: '3-4√É‚Äî8-10'},
            'Leg Curl': {v: 'https://youtu.be/ELOCsoDSmrg', s: '3√É‚Äî10-12'},
            'Leg Extension': {v: 'https://youtu.be/YyvSfVjQeL0', s: '3√É‚Äî10-15'},
            'Bulgarian Split Squats': {v: 'https://youtu.be/2C-uNgKwPLE', s: '3√É‚Äî8-10'},
            'Plank': {v: 'https://youtu.be/pvIjsG5Svck', s: '30-45s'},
            'Cable Woodchop': {v: 'https://youtu.be/pAplQXk3dkU', s: '12-15'},
            'Ab Wheel': {v: 'https://youtu.be/1mSNDBNZwM4', s: '8-12'}
        };

        const routines = [
            {id: 'day1', name: 'Day 1 √¢‚Ç¨‚Äú Heavy Push', desc: 'Chest, Shoulders, Triceps', ex: ['Barbell Bench Press', 'Overhead Barbell Press', 'Incline Dumbbell Press', 'Weighted Dips', 'Lateral Raises', 'Triceps Rope Pushdown', 'Push-ups']},
            {id: 'day2', name: 'Day 2 √¢‚Ç¨‚Äú Heavy Pull', desc: 'Back, Rear Delts, Biceps', ex: ['Deadlift', 'Weighted Pull-ups', 'Barbell Row', 'Chest-Supported Row', 'Face Pulls', 'Barbell Bicep Curls', 'Hammer Curls']},
            {id: 'day3', name: 'Day 3 √¢‚Ç¨‚Äú Heavy Legs', desc: 'Quads, Glutes, Hamstrings', ex: ['Back Squat', 'Romanian Deadlift', 'Leg Press', 'Walking Lunges', 'Calf Raises', 'Hanging Leg Raises']},
            {id: 'day4', name: 'Day 4 √¢‚Ç¨‚Äú Volume Push', desc: 'Hypertrophy Focus', ex: ['Incline Barbell Press', 'Flat Dumbbell Press', 'Machine Chest Press', 'Dumbbell Lateral Raises', 'Cable Front Raises', 'Overhead Triceps Extension', 'Triceps Pushdowns']},
            {id: 'day5', name: 'Day 5 √¢‚Ç¨‚Äú Volume Pull', desc: 'Back & Arm Hypertrophy', ex: ['Lat Pulldown', 'Single-Arm Dumbbell Row', 'Seated Cable Row', 'Straight-Arm Pulldowns', 'Rear Delt Fly', 'EZ-Bar Curl', 'Cable Curls']},
            {id: 'day6', name: 'Day 6 √¢‚Ç¨‚Äú Volume Legs + Core', desc: 'Legs & Core', ex: ['Front Squat', 'Leg Curl', 'Leg Extension', 'Bulgarian Split Squats', 'Calf Raises', 'Plank', 'Cable Woodchop', 'Ab Wheel']}
        ];

        let activeWorkout = null;
        let timerInterval = null;
        let workoutTime = 0;
        let history = JSON.parse(localStorage.getItem('history') || '[]');

        function showTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('workoutTab').classList.add('hidden');
            document.getElementById('historyTab').classList.add('hidden');
            document.getElementById('statsTab').classList.add('hidden');
            
            if (tab === 'workout') {
                document.getElementById('workoutTab').classList.remove('hidden');
            } else if (tab === 'history') {
                document.getElementById('historyTab').classList.remove('hidden');
                renderHistory();
            } else {
                document.getElementById('statsTab').classList.remove('hidden');
                renderStats();
            }
        }

        function toggleRoutine(id) {
            const list = document.getElementById('exercises-' + id);
            list.classList.toggle('show');
        }

        function startWorkout(routineId) {
            const routine = routines.find(r => r.id === routineId);
            activeWorkout = {id: routineId, name: routine.name, data: {}};
            
            routine.ex.forEach(ex => {
                const sets = parseInt(exercises[ex].s.split('√É‚Äî')[0]) || 3;
                activeWorkout.data[ex] = Array(sets).fill().map(() => ({w: '', r: '', d: false}));
            });
            
            workoutTime = 0;
            timerInterval = setInterval(() => {
                workoutTime++;
                updateTimer();
            }, 1000);
            
            renderRoutines();
            document.getElementById('timerSection').classList.remove('hidden');
        }

        function updateTimer() {
            const h = Math.floor(workoutTime / 3600);
            const m = Math.floor((workoutTime % 3600) / 60);
            const s = workoutTime % 60;
            document.getElementById('timerSection').innerHTML = `
                <div class="timer">
                    <div class="timer-display">${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}</div>
                    <div class="timer-label">Workout Duration</div>
                </div>
            `;
        }

        function updateSet(ex, idx, field, val) {
            activeWorkout.data[ex][idx][field] = val;
        }

        function toggleComplete(ex, idx) {
            activeWorkout.data[ex][idx].d = !activeWorkout.data[ex][idx].d;
            renderRoutines();
        }

        function addSet(ex) {
            activeWorkout.data[ex].push({w: '', r: '', d: false});
            renderRoutines();
        }

        function finishWorkout() {
            clearInterval(timerInterval);
            
            let totalSets = 0;
            let totalVolume = 0;
            Object.values(activeWorkout.data).forEach(sets => {
                sets.forEach(set => {
                    if (set.d) {
                        totalSets++;
                        totalVolume += (parseFloat(set.w) || 0) * (parseInt(set.r) || 0);
                    }
                });
            });
            
            history.unshift({
                date: new Date().toISOString(),
                routine: activeWorkout.name,
                duration: workoutTime,
                sets: totalSets,
                volume: Math.round(totalVolume)
            });
            
            localStorage.setItem('history', JSON.stringify(history));
            
            activeWorkout = null;
            workoutTime = 0;
            document.getElementById('timerSection').classList.add('hidden');
            renderRoutines();
            showTab('history');
            document.querySelectorAll('.tab')[1].classList.add('active');
            document.querySelectorAll('.tab')[0].classList.remove('active');
        }

        function renderRoutines() {
            const container = document.getElementById('routinesSection');
            container.innerHTML = routines.map(routine => `
                <div class="routine-card">
                    <div class="routine-header" onclick="toggleRoutine('${routine.id}')">
                        <div>
                            <div class="routine-title">${routine.name}</div>
                            <div class="routine-meta">${routine.desc} √¢‚Ç¨¬¢ ${routine.ex.length} exercises</div>
                        </div>
                        <span>√¢‚Äì¬º</span>
                    </div>
                    ${!activeWorkout ? `<button class="start-btn" onclick="startWorkout('${routine.id}')">√¢‚Äì¬∂ Start Workout</button>` : ''}
                    <div id="exercises-${routine.id}" class="exercise-list">
                        ${routine.ex.map(ex => `
                            <div class="exercise-item">
                                <div class="exercise-header">
                                    <div class="exercise-name">${ex}</div>
                                    <a href="${exercises[ex].v}" target="_blank" class="video-link">√∞≈∏‚Äú¬π Tutorial</a>
                                </div>
                                <div class="exercise-details">Target: ${exercises[ex].s}</div>
                                ${activeWorkout && activeWorkout.id === routine.id ? `
                                    <div>
                                        ${activeWorkout.data[ex].map((set, i) => `
                                            <div class="set-row">
                                                <div class="set-number">${i+1}</div>
                                                <div class="input-group">
                                                    <span class="input-label">Weight (kg)</span>
                                                    <input type="number" class="set-input" value="${set.w}" 
                                                        onchange="updateSet('${ex}',${i},'w',this.value)" placeholder="0">
                                                </div>
                                                <div class="input-group">
                                                    <span class="input-label">Reps</span>
                                                    <input type="number" class="set-input" value="${set.r}" 
                                                        onchange="updateSet('${ex}',${i},'r',this.value)" placeholder="0">
                                                </div>
                                                <button class="check-btn ${set.d?'done':''}" onclick="toggleComplete('${ex}',${i})">
                                                    ${set.d?'√¢≈ì‚Äú':''}
                                                </button>
                                            </div>
                                        `).join('')}
                                        <button class="add-set-btn" onclick="addSet('${ex}')">+ Add Set</button>
                                    </div>
                                ` : ''}
                            </div>
                        `).join('')}
                    </div>
                    ${activeWorkout && activeWorkout.id === routine.id ? `
                        <button class="finish-btn" onclick="finishWorkout()">√¢≈ì‚Äú Finish Workout</button>
                    ` : ''}
                </div>
            `).join('');
        }

        function renderHistory() {
            const container = document.getElementById('historyTab');
            if (history.length === 0) {
                container.innerHTML = '<div class="empty"><div style="font-size:48px">√∞≈∏‚Äú≈†</div><h2>No Workouts Yet</h2><p>Start your first workout!</p></div>';
                return;
            }
            container.innerHTML = history.map(w => {
                const date = new Date(w.date);
                return `
                    <div class="history-item">
                        <div class="history-date">${date.toLocaleDateString('en-US', {weekday:'short', month:'short', day:'numeric', year:'numeric'})}</div>
                        <div class="history-routine">${w.routine}</div>
                        <div class="history-stats">√¢¬è¬±√Ø¬∏¬è ${formatTime(w.duration)} √¢‚Ç¨¬¢ √∞≈∏¬è‚Äπ√Ø¬∏¬è ${w.sets} sets √¢‚Ç¨¬¢ √∞≈∏‚Äú¬¶ ${w.volume} kg</div>
                    </div>
                `;
            }).join('');
        }

        function renderStats() {
            const totalWorkouts = history.length;
            const totalSets = history.reduce((sum, w) => sum + w.sets, 0);
            const totalVolume = history.reduce((sum, w) => sum + w.volume, 0);
            const totalHours = Math.round(history.reduce((sum, w) => sum + w.duration, 0) / 3600);
            
            document.getElementById('statsTab').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">${totalWorkouts}</div>
                        <div class="stat-label">Total Workouts</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${totalSets}</div>
                        <div class="stat-label">Total Sets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${totalVolume}</div>
                        <div class="stat-label">Volume (kg)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${totalHours}</div>
                        <div class="stat-label">Hours Trained</div>
                    </div>
                </div>
                ${history.length > 0 ? `
                    <div class="routine-card">
                        <h2 style="margin-bottom:1rem">Recent Activity</h2>
                        ${history.slice(0,5).map(w => `
                            <div style="margin-bottom:0.75rem;padding-bottom:0.75rem;border-bottom:1px solid #334155">
                                <div style="font-weight:600">${w.routine}</div>
                                <div style="color:#94a3b8;font-size:0.85rem;margin-top:0.25rem">
                                    ${new Date(w.date).toLocaleDateString()} √¢‚Ç¨¬¢ ${w.sets} sets
                                </div>
                            </div>
                        `).join('')}
                    </div>
                ` : ''}
            `;
        }

        function formatTime(sec) {
            const h = Math.floor(sec / 3600);
            const m = Math.floor((sec % 3600) / 60);
            const s = sec % 60;
            return `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        }

        renderRoutines();
    </script>
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker
                .register('sw.js')
                .catch(err => console.log('Service Worker registration failed:', err));
        });
    }
</script>
</body>
</html>
